(function(l){function n(b,a,e,f){b="categories"==a.xaxis.options.mode;e="categories"==a.yaxis.options.mode;if(b||e){var c=f.format;if(!c){c=[];c.push({x:!0,number:!0,required:!0});c.push({y:!0,number:!0,required:!0});if(a.bars.show||a.lines.show&&a.lines.fill)c.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero)}),a.bars.horizontal&&(delete c[c.length-1].y,c[c.length-1].x=!0);f.format=c}for(a=0;a<c.length;++a)c[a].x&&b&&(c[a].number=!1),
c[a].y&&e&&(c[a].number=!1)}}function p(b){var a=[],e;for(e in b.categories){var f=b.categories[e];f>=b.min&&f<=b.max&&a.push([f,e])}a.sort(function(a,b){return a[0]-b[0]});return a}function m(b,a,e){if("categories"==b[a].options.mode){if(!b[a].categories){var f={},c=b[a].options.categories||{};if(l.isArray(c))for(var d=0;d<c.length;++d)f[c[d]]=d;else for(d in c)f[d]=c[d];b[a].categories=f}b[a].options.ticks||(b[a].options.ticks=p);b=b[a].categories;f=e.points;c=e.pointsize;e=e.format;a=a.charAt(0);
d=-1;for(g in b)b[g]>d&&(d=b[g]);var g=d+1;for(d=0;d<f.length;d+=c)if(null!=f[d])for(var h=0;h<c;++h){var k=f[d+h];null!=k&&e[h][a]&&(k in b||(b[k]=g,++g),f[d+h]=b[k])}}}function q(b,a,e){m(a,"xaxis",e);m(a,"yaxis",e)}l.plot.plugins.push({init:function(b){b.hooks.processRawData.push(n);b.hooks.processDatapoints.push(q)},options:{xaxis:{categories:null},yaxis:{categories:null}},name:"categories",version:"1.0"})})(jQuery);
