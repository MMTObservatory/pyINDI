(function(n){n.plot.plugins.push({init:function(n){n.hooks.processDatapoints.push(function(b,f,t){if(null!=f.fillBetween){a:{b=b.getData();var d;for(d=0;d<b.length;++d)if(b[d].id===f.fillBetween){var h=b[d];break a}h="number"===typeof f.fillBetween?0>f.fillBetween||f.fillBetween>=b.length?null:b[f.fillBetween]:null}if(h){b=t.pointsize;d=t.points;var m=h.datapoints.pointsize;h=h.datapoints.points;for(var c=[],l,a,p,q,r=f.lines.show,n=2<b&&t.format[2].y,v=r&&f.lines.steps,u=!0,e=0,k=0,g;!(e>=d.length);){g=
c.length;if(null==d[e]){for(a=0;a<b;++a)c.push(d[e+a]);e+=b}else if(k>=h.length){if(!r)for(a=0;a<b;++a)c.push(d[e+a]);e+=b}else if(null==h[k]){for(a=0;a<b;++a)c.push(null);u=!0;k+=m}else{l=d[e];a=d[e+1];f=h[k];p=h[k+1];q=0;if(l===f){for(a=0;a<b;++a)c.push(d[e+a]);q=p;e+=b;k+=m}else if(l>f){if(r&&0<e&&null!=d[e-b]){l=a+(d[e-b+1]-a)*(f-l)/(d[e-b]-l);c.push(f);c.push(l);for(a=2;a<b;++a)c.push(d[e+a]);q=p}k+=m}else{if(u&&r){e+=b;continue}for(a=0;a<b;++a)c.push(d[e+a]);r&&0<k&&null!=h[k-m]&&(q=p+(h[k-
m+1]-p)*(l-f)/(h[k-m]-f));e+=b}u=!1;g!==c.length&&n&&(c[g+2]=q)}if(v&&g!==c.length&&0<g&&null!==c[g]&&c[g]!==c[g-b]&&c[g+1]!==c[g-b+1]){for(a=0;a<b;++a)c[g+b+a]=c[g+a];c[g+1]=c[g-b+1]}}t.points=c}}})},options:{series:{fillBetween:null}},name:"fillbetween",version:"1.0"})})(jQuery);
