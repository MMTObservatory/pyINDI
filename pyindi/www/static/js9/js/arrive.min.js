var Arrive=function(q,m,p){function r(e,c,a){g.addMethod(c,a,e.unbindEvent);g.addMethod(c,a,e.unbindEventWithSelectorOrCallback);g.addMethod(c,a,e.unbindEventWithSelectorAndCallback)}function l(e){e.arrive=h.bindEvent;r(h,e,"unbindArrive");e.leave=k.bindEvent;r(k,e,"unbindLeave")}if(q.MutationObserver&&"undefined"!==typeof HTMLElement){var u=0,g=function(){var e=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;
return{matchesSelector:function(c,a){return c instanceof HTMLElement&&e.call(c,a)},addMethod:function(c,a,d){var b=c[a];c[a]=function(){if(d.length==arguments.length)return d.apply(this,arguments);if("function"==typeof b)return b.apply(this,arguments)}},callCallbacks:function(c,a){a&&a.options.onceOnly&&1==a.firedElems.length&&(c=[c[0]]);for(var d=0,b;b=c[d];d++)b&&b.callback&&b.callback.call(b.elem,b.elem);a&&a.options.onceOnly&&1==a.firedElems.length&&a.me.unbindEventWithSelectorAndCallback.call(a.target,
a.selector,a.callback)},checkChildNodesRecursively:function(c,a,d,b){for(var f=0,n;n=c[f];f++)d(n,a,b)&&b.push({callback:a.callback,elem:n}),0<n.childNodes.length&&g.checkChildNodesRecursively(n.childNodes,a,d,b)},mergeArrays:function(c,a){var d={},b;for(b in c)c.hasOwnProperty(b)&&(d[b]=c[b]);for(b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);return d},toElementsArray:function(c){"undefined"===typeof c||"number"===typeof c.length&&c!==q||(c=[c]);return c}}}(),v=function(){var e=function(){this._eventsBucket=
[];this._beforeRemoving=this._beforeAdding=null};e.prototype.addEvent=function(c,a,d,b){c={target:c,selector:a,options:d,callback:b,firedElems:[]};this._beforeAdding&&this._beforeAdding(c);this._eventsBucket.push(c);return c};e.prototype.removeEvent=function(c){for(var a=this._eventsBucket.length-1,d;d=this._eventsBucket[a];a--)c(d)&&(this._beforeRemoving&&this._beforeRemoving(d),(d=this._eventsBucket.splice(a,1))&&d.length&&(d[0].callback=null))};e.prototype.beforeAdding=function(c){this._beforeAdding=
c};e.prototype.beforeRemoving=function(c){this._beforeRemoving=c};return e}(),t=function(e,c){var a=new v,d=this,b={fireOnAttributesModification:!1};a.beforeAdding(function(b){var a=b.target;if(a===q.document||a===q)a=document.getElementsByTagName("html")[0];var f=new MutationObserver(function(a){c.call(this,a,b)});var w=e(b.options);f.observe(a,w);b.observer=f;b.me=d});a.beforeRemoving(function(b){b.observer.disconnect()});this.bindEvent=function(c,d,e){d=g.mergeArrays(b,d);for(var f=g.toElementsArray(this),
n=0;n<f.length;n++)a.addEvent(f[n],c,d,e)};this.unbindEvent=function(){var b=g.toElementsArray(this);a.removeEvent(function(a){for(var c=0;c<b.length;c++)if(this===p||a.target===b[c])return!0;return!1})};this.unbindEventWithSelectorOrCallback=function(b){var c=g.toElementsArray(this);a.removeEvent("function"===typeof b?function(a){for(var d=0;d<c.length;d++)if((this===p||a.target===c[d])&&a.callback===b)return!0;return!1}:function(a){for(var d=0;d<c.length;d++)if((this===p||a.target===c[d])&&a.selector===
b)return!0;return!1})};this.unbindEventWithSelectorAndCallback=function(b,c){var d=g.toElementsArray(this);a.removeEvent(function(a){for(var f=0;f<d.length;f++)if((this===p||a.target===d[f])&&a.selector===b&&a.callback===c)return!0;return!1})};return this},h=new function(){function e(a,b,c){return g.matchesSelector(a,b.selector)&&(a._id===p&&(a._id=u++),-1==b.firedElems.indexOf(a._id))?(b.firedElems.push(a._id),!0):!1}var c={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};h=new t(function(a){var b=
{attributes:!1,childList:!0,subtree:!0};a.fireOnAttributesModification&&(b.attributes=!0);return b},function(a,b){a.forEach(function(a){var c=a.addedNodes,d=a.target,f=[];null!==c&&0<c.length?g.checkChildNodesRecursively(c,b,e,f):"attributes"===a.type&&e(d,b,f)&&f.push({callback:b.callback,elem:d});g.callCallbacks(f,b)})});var a=h.bindEvent;h.bindEvent=function(d,b,f){"undefined"===typeof f?(f=b,b=c):b=g.mergeArrays(c,b);var e=g.toElementsArray(this);if(b.existing){for(var h=[],k=0;k<e.length;k++)for(var m=
e[k].querySelectorAll(d),l=0;l<m.length;l++)h.push({callback:f,elem:m[l]});if(b.onceOnly&&h.length)return f.call(h[0].elem,h[0].elem);setTimeout(g.callCallbacks,1,h)}a.call(this,d,b,f)};return h},k=new function(){function e(a,b){return g.matchesSelector(a,b.selector)}var c={};k=new t(function(){return{childList:!0,subtree:!0}},function(a,b){a.forEach(function(a){a=a.removedNodes;var c=[];null!==a&&0<a.length&&g.checkChildNodesRecursively(a,b,e,c);g.callCallbacks(c,b)})});var a=k.bindEvent;k.bindEvent=
function(d,b,e){"undefined"===typeof e?(e=b,b=c):b=g.mergeArrays(c,b);a.call(this,d,b,e)};return k};m&&l(m.fn);l(HTMLElement.prototype);l(NodeList.prototype);l(HTMLCollection.prototype);l(HTMLDocument.prototype);l(Window.prototype);m={};r(h,m,"unbindAllArrive");r(k,m,"unbindAllLeave");return m}}(window,"undefined"===typeof jQuery?null:jQuery,void 0);
