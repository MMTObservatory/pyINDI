(function(m){m.plot.plugins.push({init:function(w){function n(k,b,h,l,a){var f=h.pointsize,g=m.extend({},b);g.datapoints={points:[],pointsize:f,format:h.format};g.label=null;g.color=a;g.threshold=null;g.originSeries=b;g.data=[];var e=h.points,n=b.lines.show,t=[],u=[],c;for(a=0;a<e.length;a+=f){var p=e[a];var q=e[a+1];var r=d;var d=q<l?t:u;if(n&&r!=d&&null!=p&&0<a&&null!=e[a-f]){var v=p+(l-q)*(p-e[a-f])/(q-e[a-f+1]);r.push(v);r.push(l);for(c=2;c<f;++c)r.push(e[a+c]);d.push(null);d.push(null);for(c=
2;c<f;++c)d.push(e[a+c]);d.push(v);d.push(l);for(c=2;c<f;++c)d.push(e[a+c])}d.push(p);d.push(q);for(c=2;c<f;++c)d.push(e[a+c])}h.points=u;g.datapoints.points=t;0<g.datapoints.points.length&&(b=m.inArray(b,k.getData()),k.getData().splice(b+1,0,g))}w.hooks.processDatapoints.push(function(k,b,h){b.threshold&&(b.threshold instanceof Array?(b.threshold.sort(function(b,a){return b.below-a.below}),m(b.threshold).each(function(l,a){n(k,b,h,a.below,a.color)})):n(k,b,h,b.threshold.below,b.threshold.color))})},
options:{series:{threshold:null}},name:"threshold",version:"1.2"})})(jQuery);
