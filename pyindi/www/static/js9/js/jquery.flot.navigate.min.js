(function(e){function a(b){var h=this,f=b.data||{};if(f.elem)h=b.dragTarget=f.elem,b.dragProxy=c.proxy||h,b.cursorOffsetX=f.pageX-f.left,b.cursorOffsetY=f.pageY-f.top,b.offsetX=b.pageX-b.cursorOffsetX,b.offsetY=b.pageY-b.cursorOffsetY;else if(c.dragging||0<f.which&&b.which!=f.which||e(b.target).is(f.not))return;switch(b.type){case "mousedown":return e.extend(f,e(h).offset(),{elem:h,target:b.target,pageX:b.pageX,pageY:b.pageY}),g.add(document,"mousemove mouseup",a,f),m(h,!1),c.dragging=null,!1;case !c.dragging&&
"mousemove":if(Math.pow(b.pageX-f.pageX,2)+Math.pow(b.pageY-f.pageY,2)<f.distance)break;b.target=f.target;var d=k(b,"dragstart",h);!1!==d&&(c.dragging=h,c.proxy=b.dragProxy=e(d||h)[0]);case "mousemove":if(c.dragging){if(d=k(b,"drag",h),l.drop&&(l.drop.allowed=!1!==d,l.drop.handler(b)),!1!==d)break;b.type="mouseup"}case "mouseup":g.remove(document,"mousemove mouseup",a),c.dragging&&(l.drop&&l.drop.handler(b),k(b,"dragend",h)),m(h,!0),c.dragging=c.proxy=f.elem=!1}return!0}function k(b,a,f){b.type=a;
a=e.event.dispatch.call(f,b);return!1===a?!1:a||b.result}function n(){return!1===c.dragging}function m(b,a){b&&(b.unselectable=a?"off":"on",b.onselectstart=function(){return a},b.style&&(b.style.MozUserSelect=a?"":"none"))}e.fn.drag=function(b,a,f){return a&&this.bind("dragstart",b),f&&this.bind("dragend",f),b?this.bind("drag",a?a:b):this.trigger("drag")};var g=e.event,l=g.special,c=l.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(b){b=e.extend({distance:c.distance,which:c.which,
not:c.not},b||{});b.distance=Math.pow(b.distance,2);g.add(this,"mousedown",a,b);this.attachEvent&&this.attachEvent("ondragstart",n)},teardown:function(){g.remove(this,"mousedown",a);this===c.dragging&&(c.dragging=c.proxy=!1);m(this,!0);this.detachEvent&&this.detachEvent("ondragstart",n)}};l.dragstart=l.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(e){function a(a){var g=a||window.event,m=[].slice.call(arguments,1),c=0,b=0;a=e.event.fix(g);a.type="mousewheel";g.wheelDelta&&(c=g.wheelDelta/120);g.detail&&(c=-g.detail/3);var h=c;void 0!==g.axis&&g.axis===g.HORIZONTAL_AXIS&&(h=0,b=-1*c);void 0!==g.wheelDeltaY&&(h=g.wheelDeltaY/120);void 0!==g.wheelDeltaX&&(b=-1*g.wheelDeltaX/120);m.unshift(a,c,b,h);return(e.event.dispatch||e.event.handle).apply(this,m)}var k=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var n=k.length;n;)e.event.fixHooks[k[--n]]=
e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=k.length;e;)this.addEventListener(k[--e],a,!1);else this.onmousewheel=a},teardown:function(){if(this.removeEventListener)for(var e=k.length;e;)this.removeEventListener(k[--e],a,!1);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
(function(e){e.plot.plugins.push({init:function(a){function k(b,p){var d=a.offset();d.left=b.pageX-d.left;d.top=b.pageY-d.top;p?a.zoomOut({center:d}):a.zoom({center:d})}function n(a,b){a.preventDefault();k(a,0>b);return!1}function m(d){if(1!=d.which)return!1;var p=a.getPlaceholder().css("cursor");p&&(c=p);a.getPlaceholder().css("cursor",a.getOptions().pan.cursor);b=d.pageX;h=d.pageY}function g(d){var p=a.getOptions().pan.frameRate;!f&&p&&(f=setTimeout(function(){a.pan({left:b-d.pageX,top:h-d.pageY});
b=d.pageX;h=d.pageY;f=null},1/p*1E3))}function l(d){f&&(clearTimeout(f),f=null);a.getPlaceholder().css("cursor",c);a.pan({left:b-d.pageX,top:h-d.pageY})}var c="default",b=0,h=0,f=null;a.zoomOut=function(b){b||(b={});b.amount||(b.amount=a.getOptions().zoom.amount);b.amount=1/b.amount;a.zoom(b)};a.zoom=function(b){b||(b={});var d=b.center,f=b.amount||a.getOptions().zoom.amount,c=a.width(),g=a.height();d||(d={left:c/2,top:g/2});var h=d.left/c,k=d.top/g,l={x:{min:d.left-h*c/f,max:d.left+(1-h)*c/f},y:{min:d.top-
k*g/f,max:d.top+(1-k)*g/f}};e.each(a.getAxes(),function(b,a){b=a.options;var d=l[a.direction].min,c=l[a.direction].max,e=b.zoomRange,g=b.panRange;!1!==e&&(d=a.c2p(d),c=a.c2p(c),d>c&&(a=d,d=c,c=a),g&&(null!=g[0]&&d<g[0]&&(d=g[0]),null!=g[1]&&c>g[1]&&(c=g[1])),a=c-d,e&&(null!=e[0]&&a<e[0]&&1<f||null!=e[1]&&a>e[1]&&1>f)||(b.min=d,b.max=c))});a.setupGrid();a.draw();b.preventEvent||a.getPlaceholder().trigger("plotzoom",[a,b])};a.pan=function(b){var d={x:+b.left,y:+b.top};isNaN(d.x)&&(d.x=0);isNaN(d.y)&&
(d.y=0);e.each(a.getAxes(),function(b,a){b=a.options;var c=d[a.direction];var f=a.c2p(a.p2c(a.min)+c);a=a.c2p(a.p2c(a.max)+c);var e=b.panRange;!1!==e&&(e&&(null!=e[0]&&e[0]>f&&(c=e[0]-f,f+=c,a+=c),null!=e[1]&&e[1]<a&&(c=e[1]-a,f+=c,a+=c)),b.min=f,b.max=a)});a.setupGrid();a.draw();b.preventEvent||a.getPlaceholder().trigger("plotpan",[a,b])};a.hooks.bindEvents.push(function(b,a){b=b.getOptions();b.zoom.interactive&&(a[b.zoom.trigger](k),a.mousewheel(n));b.pan.interactive&&(a.bind("dragstart",{distance:10},
m),a.bind("drag",g),a.bind("dragend",l))});a.hooks.shutdown.push(function(b,a){a.unbind(b.getOptions().zoom.trigger,k);a.unbind("mousewheel",n);a.unbind("dragstart",m);a.unbind("drag",g);a.unbind("dragend",l);f&&clearTimeout(f)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);
