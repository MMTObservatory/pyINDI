(function(p){function m(c,d){return d*Math.floor(c/d)}function r(c,d,l,n){if("function"==typeof c.strftime)return c.strftime(d);var k=function(a,b){a=""+a;return 1==a.length?""+(null==b?"0":b)+a:a},g=[],q=!1,h=c.getHours(),b=12>h;null==l&&(l="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==n&&(n="Sun Mon Tue Wed Thu Fri Sat".split(" "));var f=12<h?h-12:0==h?12:h;for(var e=0;e<d.length;++e){var a=d.charAt(e);if(q){switch(a){case "a":a=""+n[c.getDay()];break;case "b":a=""+l[c.getMonth()];
break;case "d":a=k(c.getDate());break;case "e":a=k(c.getDate()," ");break;case "h":case "H":a=k(h);break;case "I":a=k(f);break;case "l":a=k(f," ");break;case "m":a=k(c.getMonth()+1);break;case "M":a=k(c.getMinutes());break;case "q":a=""+(Math.floor(c.getMonth()/3)+1);break;case "S":a=k(c.getSeconds());break;case "y":a=k(c.getFullYear()%100);break;case "Y":a=""+c.getFullYear();break;case "p":a=b?"am":"pm";break;case "P":a=b?"AM":"PM";break;case "w":a=""+c.getDay()}g.push(a);q=!1}else"%"==a?q=!0:g.push(a)}return g.join("")}
function v(d){function c(d,c,h,b){d[c]=function(){return h[b].apply(h,arguments)}}var l={date:d};void 0!=d.strftime&&c(l,"strftime",d,"strftime");c(l,"getTime",d,"getTime");c(l,"setTime",d,"setTime");for(var n="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),k=0;k<n.length;k++)c(l,"get"+n[k],d,"getUTC"+n[k]),c(l,"set"+n[k],d,"setUTC"+n[k]);return l}function t(d,m){if("browser"==m.timezone)return new Date(d);if(m.timezone&&"utc"!=m.timezone&&"undefined"!=typeof timezoneJS&&"undefined"!=
typeof timezoneJS.Date){var c=new timezoneJS.Date;c.setTimezone(m.timezone);c.setTime(d);return c}return v(new Date(d))}var d={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},u=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],w=u.concat([[3,
"month"],[6,"month"],[1,"year"]]),x=u.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);p.plot.plugins.push({init:function(c){c.hooks.processOptions.push(function(c,l){p.each(c.getAxes(),function(c,k){var g=k.options;"time"==g.mode&&(k.tickGenerator=function(c){var h=[],b=t(c.min,g),f=0,e=g.tickSize&&"quarter"===g.tickSize[1]||g.minTickSize&&"quarter"===g.minTickSize[1]?x:w;null!=g.minTickSize&&(f="number"==typeof g.tickSize?g.tickSize:g.minTickSize[0]*d[g.minTickSize[1]]);for(var a=0;a<e.length-1&&
!(c.delta<(e[a][0]*d[e[a][1]]+e[a+1][0]*d[e[a+1][1]])/2&&e[a][0]*d[e[a][1]]>=f);++a);f=e[a][0];e=e[a][1];"year"==e&&(null!=g.minTickSize&&"year"==g.minTickSize[1]?f=Math.floor(g.minTickSize[0]):(a=Math.pow(10,Math.floor(Math.log(c.delta/d.year)/Math.LN10)),f=c.delta/d.year/a,f=(1.5>f?1:3>f?2:7.5>f?5:10)*a),1>f&&(f=1));c.tickSize=g.tickSize||[f,e];a=c.tickSize[0];e=c.tickSize[1];f=a*d[e];"second"==e?b.setSeconds(m(b.getSeconds(),a)):"minute"==e?b.setMinutes(m(b.getMinutes(),a)):"hour"==e?b.setHours(m(b.getHours(),
a)):"month"==e?b.setMonth(m(b.getMonth(),a)):"quarter"==e?b.setMonth(3*m(b.getMonth()/3,a)):"year"==e&&b.setFullYear(m(b.getFullYear(),a));b.setMilliseconds(0);f>=d.minute&&b.setSeconds(0);f>=d.hour&&b.setMinutes(0);f>=d.day&&b.setHours(0);f>=4*d.day&&b.setDate(1);f>=2*d.month&&b.setMonth(m(b.getMonth(),3));f>=2*d.quarter&&b.setMonth(m(b.getMonth(),6));f>=d.year&&b.setMonth(0);var k=0,l=Number.NaN;do{var n=l;l=b.getTime();h.push(l);if("month"==e||"quarter"==e)if(1>a){b.setDate(1);var q=b.getTime();
b.setMonth(b.getMonth()+("quarter"==e?3:1));var p=b.getTime();b.setTime(l+k*d.hour+(p-q)*a);k=b.getHours();b.setHours(0)}else b.setMonth(b.getMonth()+a*("quarter"==e?3:1));else"year"==e?b.setFullYear(b.getFullYear()+a):b.setTime(l+f)}while(l<c.max&&l!=n);return h},k.tickFormatter=function(c,h){c=t(c,h.options);if(null!=g.timeformat)return r(c,g.timeformat,g.monthNames,g.dayNames);var b=h.options.tickSize&&"quarter"==h.options.tickSize[1]||h.options.minTickSize&&"quarter"==h.options.minTickSize[1],
f=h.tickSize[0]*d[h.tickSize[1]];h=h.max-h.min;var e=g.twelveHourClock?" %p":"",a=g.twelveHourClock?"%I":"%H";return r(c,f<d.minute?a+":%M:%S"+e:f<d.day?h<2*d.day?a+":%M"+e:"%b %d "+a+":%M"+e:f<d.month?"%b %d":b&&f<d.quarter||!b&&f<d.year?h<d.year?"%b":"%b %Y":b&&f<d.year?h<d.year?"Q%q":"Q%q %Y":"%Y",g.monthNames,g.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});p.plot.formatDate=r;p.plot.dateGenerator=t})(jQuery);
