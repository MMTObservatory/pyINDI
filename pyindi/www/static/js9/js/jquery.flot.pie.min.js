var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(h,f,c){h!=Array.prototype&&h!=Object.prototype&&(h[f]=c.value)};$jscomp.getGlobal=function(h){return"undefined"!=typeof window&&window===h?h:"undefined"!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(h,f,c,m){if(f){c=$jscomp.global;h=h.split(".");for(m=0;m<h.length-1;m++){var r=h[m];r in c||(c[r]={});c=c[r]}h=h[h.length-1];m=c[h];f=f(m);f!=m&&null!=f&&$jscomp.defineProperty(c,h,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.fill",function(h){return h?h:function(h,c,m){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==m||m>f)m=f;m=Number(m);0>m&&(m=Math.max(0,f+m));for(c=Number(c||0);c<m;c++)this[c]=h;return this}},"es6","es3");
(function(h){h.plot.plugins.push({init:function(f){function c(a){for(var b=0,d=0,f=0,e=g.series.pie.combine.color,u=[],n=0;n<a.length;++n){var l=a[n].data;h.isArray(l)&&1==l.length&&(l=l[0]);h.isArray(l)?!isNaN(parseFloat(l[1]))&&isFinite(l[1])?l[1]=+l[1]:l[1]=0:l=!isNaN(parseFloat(l))&&isFinite(l)?[1,+l]:[1,0];a[n].data=[l]}for(n=0;n<a.length;++n)b+=a[n].data[0][1];for(n=0;n<a.length;++n)l=a[n].data[0][1],l/b<=g.series.pie.combine.threshold&&(d+=l,f++,e||(e=a[n].color));for(n=0;n<a.length;++n)l=
a[n].data[0][1],(2>f||l/b>g.series.pie.combine.threshold)&&u.push(h.extend(a[n],{data:[[1,l]],color:a[n].color,label:a[n].label,angle:l*Math.PI*2/b,percent:l/(b/100)}));1<f&&u.push({data:[[1,d]],color:e,label:g.series.pie.combine.label,angle:d*Math.PI*2/b,percent:d/(b/100)});return u}function m(a,b){function f(){d.clearRect(0,0,u,n);x.children().filter(".pieLabel, .pieLabelBackground").remove()}function c(){var a=g.series.pie.shadow.left,b=g.series.pie.shadow.top,f=g.series.pie.shadow.alpha,l=1<g.series.pie.radius?
g.series.pie.radius:t*g.series.pie.radius;if(!(l>=u/2-a||l*g.series.pie.tilt>=n/2-b||10>=l)){d.save();d.translate(a,b);d.globalAlpha=f;d.fillStyle="#000";d.translate(p,z);d.scale(1,g.series.pie.tilt);for(a=1;10>=a;a++)d.beginPath(),d.arc(0,0,l,0,2*Math.PI,!1),d.fill(),l-=a;d.restore()}}function e(){function a(a,b,g){0>=a||isNaN(a)||(g?d.fillStyle=b:(d.strokeStyle=b,d.lineJoin="round"),d.beginPath(),1E-9<Math.abs(a-2*Math.PI)&&d.moveTo(0,0),d.arc(0,0,f,e,e+a/2,!1),d.arc(0,0,f,e+a/2,e+a,!1),d.closePath(),
e+=a,g?d.fill():d.stroke())}function b(){for(var a=l,b=1<g.series.pie.label.radius?g.series.pie.label.radius:t*g.series.pie.label.radius,d=0;d<m.length;++d){if(m[d].percent>=100*g.series.pie.label.threshold){var e=m[d];var f=a,c=d;if(0==e.data[0][1])e=!0;else{var k=g.legend.labelFormatter;var q=g.series.pie.label.formatter;k=k?k(e.label,e):e.label;q&&(k=q(k,e));q=(f+e.angle+f)/2;f=p+Math.round(Math.cos(q)*b);q=z+Math.round(Math.sin(q)*b)*g.series.pie.tilt;x.append("<span class='pieLabel' id='pieLabel"+
c+"' style='position:absolute;top:"+q+"px;left:"+f+"px;'>"+k+"</span>");c=x.children("#pieLabel"+c);k=q-c.height()/2;q=f-c.width()/2;c.css("top",k);c.css("left",q);0<0-k||0<0-q||0>n-(k+c.height())||0>u-(q+c.width())?e=!1:(0!=g.series.pie.label.background.opacity&&(f=g.series.pie.label.background.color,null==f&&(f=e.color),e="top:"+k+"px;left:"+q+"px;",h("<div class='pieLabelBackground' style='position:absolute;width:"+c.width()+"px;height:"+c.height()+"px;"+e+"background-color:"+f+";'></div>").css("opacity",
g.series.pie.label.background.opacity).insertBefore(c)),e=!0)}if(!e)return!1}a+=m[d].angle}return!0}var l=Math.PI*g.series.pie.startAngle,f=1<g.series.pie.radius?g.series.pie.radius:t*g.series.pie.radius;d.save();d.translate(p,z);d.scale(1,g.series.pie.tilt);d.save();for(var e=l,c=0;c<m.length;++c)m[c].startAngle=e,a(m[c].angle,m[c].color,!0);d.restore();if(0<g.series.pie.stroke.width){d.save();d.lineWidth=g.series.pie.stroke.width;e=l;for(c=0;c<m.length;++c)a(m[c].angle,g.series.pie.stroke.color,
!1);d.restore()}r(d);d.restore();return g.series.pie.label.show?b():!0}if(x){var u=a.getPlaceholder().width(),n=a.getPlaceholder().height(),l=x.children().filter(".legend").children().width()||0;d=b;A=!1;t=Math.min(u,n/g.series.pie.tilt)/2;z=n/2+g.series.pie.offset.top;p=u/2;"auto"==g.series.pie.offset.left?(p=g.legend.position.match("w")?p+l/2:p-l/2,p<t?p=t:p>u-t&&(p=u-t)):p+=g.series.pie.offset.left;var m=a.getData();b=0;do 0<b&&(t*=.95),b+=1,f(),.8>=g.series.pie.tilt&&c();while(!e()&&10>b);10<=
b&&(f(),x.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>"));a.setSeries&&a.insertLegend&&(a.setSeries(m),a.insertLegend())}}function r(a){if(0<g.series.pie.innerRadius){a.save();var b=1<g.series.pie.innerRadius?g.series.pie.innerRadius:t*g.series.pie.innerRadius;a.globalCompositeOperation="destination-out";a.beginPath();a.fillStyle=g.series.pie.stroke.color;a.arc(0,0,b,0,2*Math.PI,!1);a.fill();a.closePath();a.restore();a.save();a.beginPath();a.strokeStyle=
g.series.pie.stroke.color;a.arc(0,0,b,0,2*Math.PI,!1);a.stroke();a.closePath();a.restore()}}function F(a){C("plothover",a)}function G(a){C("plotclick",a)}function C(a,b){var c=f.offset(),m=parseInt(b.pageX-c.left);a:{c=parseInt(b.pageY-c.top);var e=f.getData(),h=f.getOptions();h=1<h.series.pie.radius?h.series.pie.radius:t*h.series.pie.radius;for(var n,l,r=0;r<e.length;++r){var k=e[r];if(k.pie.show){d.save();d.beginPath();d.moveTo(0,0);d.arc(0,0,h,k.startAngle,k.startAngle+k.angle/2,!1);d.arc(0,0,
h,k.startAngle+k.angle/2,k.startAngle+k.angle,!1);d.closePath();n=m-p;l=c-z;if(d.isPointInPath){if(d.isPointInPath(m-p,c-z)){d.restore();m={datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:r};break a}}else{var v=[[0,0],[h*Math.cos(k.startAngle),h*Math.sin(k.startAngle)],[h*Math.cos(k.startAngle+k.angle/4),h*Math.sin(k.startAngle+k.angle/4)],[h*Math.cos(k.startAngle+k.angle/2),h*Math.sin(k.startAngle+k.angle/2)],[h*Math.cos(k.startAngle+k.angle/1.5),h*Math.sin(k.startAngle+k.angle/1.5)],
[h*Math.cos(k.startAngle+k.angle),h*Math.sin(k.startAngle+k.angle)]];n=[n,l];l=!1;for(var y=-1,A=v.length,B=A-1;++y<A;B=y)(v[y][1]<=n[1]&&n[1]<v[B][1]||v[B][1]<=n[1]&&n[1]<v[y][1])&&n[0]<(v[B][0]-v[y][0])*(n[1]-v[y][1])/(v[B][1]-v[y][1])+v[y][0]&&(l=!l);if(l){d.restore();m={datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:r};break a}}d.restore()}}m=null}if(g.grid.autoHighlight)for(c=0;c<w.length;++c)e=w[c],e.auto!=a||m&&e.series==m.series||(e=e.series,null==e&&(w=[],f.triggerRedrawOverlay()),
e=D(e),-1!=e&&(w.splice(e,1),f.triggerRedrawOverlay()));m&&(c=m.series,e=D(c),-1==e?(w.push({series:c,auto:a}),f.triggerRedrawOverlay()):a||(w[e].auto=!1));x.trigger(a,[{pageX:b.pageX,pageY:b.pageY},m])}function D(a){for(var b=0;b<w.length;++b)if(w[b].series==a)return b;return-1}var E=null,x=null,g=null,t=null,p=null,z=null,A=!1,d=null,w=[];f.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.series.pie.label.show=b.legend.show?!1:!0),"auto"==
b.series.pie.radius&&(b.series.pie.radius=b.series.pie.label.show?.75:1),1<b.series.pie.tilt?b.series.pie.tilt=1:0>b.series.pie.tilt&&(b.series.pie.tilt=0))});f.hooks.bindEvents.push(function(a,b){a=a.getOptions();a.series.pie.show&&(a.grid.hoverable&&b.unbind("mousemove").mousemove(F),a.grid.clickable&&b.unbind("click").click(G))});f.hooks.processDatapoints.push(function(a,b,d,f){a.getOptions().series.pie.show&&!A&&(A=!0,E=a.getCanvas(),x=h(E).parent(),g=a.getOptions(),a.setData(c(a.getData())))});
f.hooks.drawOverlay.push(function(a,b){if(a.getOptions().series.pie.show){a=a.getOptions();var c=1<a.series.pie.radius?a.series.pie.radius:t*a.series.pie.radius;b.save();b.translate(p,z);b.scale(1,a.series.pie.tilt);for(var d=0;d<w.length;++d){var e=w[d].series;0>=e.angle||isNaN(e.angle)||(b.fillStyle="rgba(255, 255, 255, "+a.series.pie.highlight.opacity+")",b.beginPath(),1E-9<Math.abs(e.angle-2*Math.PI)&&b.moveTo(0,0),b.arc(0,0,c,e.startAngle,e.startAngle+e.angle/2,!1),b.arc(0,0,c,e.startAngle+e.angle/
2,e.startAngle+e.angle,!1),b.closePath(),b.fill())}r(b);b.restore()}});f.hooks.draw.push(function(a,b){a.getOptions().series.pie.show&&m(a,b)})},options:{series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(f,c){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+c.color+";'>"+f+"<br/>"+Math.round(c.percent)+"%</div>"},radius:1,background:{color:null,
opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}},name:"pie",version:"1.1"})})(jQuery);
